<!-- CARD - Actividad Reciente -->
<div
  class="w-full bg-white dark:bg-[#1e1f28] rounded-4xl border border-gray-200 dark:border-gray-700 shadow-lg 
         px-4 sm:px-6 md:px-8 lg:px-10 py-6 transition hover:shadow-lg duration-300 space-y-9"
>

  <!-- Encabezado -->
  <div class="flex items-center justify-between border-b border-gray-100 dark:border-gray-700 pb-3">
    <div class="flex items-center gap-3">
      <div class="w-9 h-9 rounded-xl flex items-center justify-center bg-sky-100 dark:bg-sky-200 text-sky-600 dark:text-white shadow">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2"
             stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
          <path d="M3 4h18M3 10h18M3 16h18" />
        </svg>
      </div>
      <h2 class="text-lg font-bold text-gray-800 dark:text-white">Actividad reciente</h2>
    </div>

    <span *ngIf="loading" class="w-2 h-2 rounded-full bg-sky-100 animate-ping"></span>
  </div>

  <!-- Lista horizontal de tarjetas -->
  <div
    *ngIf="!loading && actividades.length"
    class="flex overflow-x-auto gap-4 pb-3 snap-x snap-mandatory custom-scrollbar scroll-smooth"
  >
    <!-- Item -->
    <div
      *ngFor="let a of actividades.slice(0, 10)"
      (click)="abrirModal(a)"
      class="relative snap-start flex-shrink-0 w-72 p-4 rounded-xl border border-gray-300 dark:border-gray-700
             bg-white/80 dark:bg-gray-800/90 backdrop-blur-md shadow-lg hover:shadow-2xl
             hover:scale-[1.04] hover:ring-2 hover:ring-sky-400 dark:hover:ring-indigo-500
             transition-all duration-300 cursor-pointer"
    >

      <!-- Glow decorativo -->
      <div class="absolute -inset-[1px] rounded-xl pointer-events-none bg-gradient-to-br from-sky-100/40 to-transparent
                  dark:from-indigo-500/20 dark:to-transparent blur-md opacity-60 group-hover:opacity-90"></div>

      <!-- Header tarjeta -->
      <div class="flex justify-between items-start mb-2 z-10 relative">
        <p class="text-sm font-semibold text-gray-800 dark:text-white truncate w-44">
          {{ a.nombre_proyecto }}
        </p>
        <div
          class="w-6 h-6 rounded-full flex items-center justify-center text-white text-xs shadow-md"
          [ngClass]="{
            'bg-emerald-500': tipoAccion(a.accion_realizada) === 'crear',
            'bg-amber-500': tipoAccion(a.accion_realizada) === 'editar',
            'bg-rose-500': tipoAccion(a.accion_realizada) === 'eliminar',
            'bg-sky-500': tipoAccion(a.accion_realizada) === 'otro'
          }"
        >
          <svg *ngIf="tipoAccion(a.accion_realizada) === 'crear'" class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24"><path d="M12 5v14M5 12h14" /></svg>
          <svg *ngIf="tipoAccion(a.accion_realizada) === 'editar'" class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24"><path d="M16.5 3.5l4 4L7 21l-4 1 1-4L16.5 3.5z" /></svg>
          <svg *ngIf="tipoAccion(a.accion_realizada) === 'eliminar'" class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24"><path d="M3 6h18M8 6v14M16 6v14" /></svg>
          <svg *ngIf="tipoAccion(a.accion_realizada) === 'otro'" class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" /><path d="M12 8v4l2 2" /></svg>
        </div>
      </div>

      <!-- Línea separadora -->
      <div class="h-px bg-gray-200 dark:bg-gray-600 my-2 rounded"></div>

      <!-- Acción -->
      <p class="text-xs text-gray-600 dark:text-gray-300 truncate z-10 relative">
        {{ a.accion_realizada }}
      </p>
    </div>
  </div>

  <!-- Sin actividad -->
  <p *ngIf="!loading && !actividades.length"
     class="mt-4 text-sm text-center text-gray-500 dark:text-gray-400">
    No hay actividad reciente.
  </p>
</div>
